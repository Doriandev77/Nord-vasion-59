<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Audi RS3 Luxury Rental</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
body,html{background:#0a0a0a;overflow:hidden;}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;display:block;}
.page{display:none;background:#111;color:white;min-height:100vh;padding:20px;overflow-x:hidden;}
h1{text-align:center;font-size:40px;margin-bottom:20px;}
h2{font-size:28px;margin-bottom:15px;}
p{color:#ccc;margin-bottom:15px;}
input,select,button{padding:15px;font-size:16px;border-radius:10px;border:none;width:100%;margin-bottom:10px;}
button{background:red;color:white;cursor:pointer;font-weight:700;}
.summary{margin-top:15px;font-size:16px;font-weight:600;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px;}
.card{background:#222;padding:15px;border-radius:12px;text-align:center;}
.card h4{margin-bottom:5px;}
img{width:100%;border-radius:12px;margin-bottom:20px;}
@media(max-width:600px){
  h1{font-size:32px;}
  h2{font-size:22px;}
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div class="page" id="mainPage">
<h1>Audi RS3 2025</h1>
<img src="https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?auto=format&fit=crop&w=2000&q=80" alt="RS3">
<h2>Caractéristiques Techniques</h2>
<div class="grid">
<div class="card"><h4>Puissance</h4><p>400 ch</p></div>
<div class="card"><h4>0-100 km/h</h4><p>3.8 s</p></div>
<div class="card"><h4>Couple</h4><p>500 Nm</p></div>
<div class="card"><h4>Transmission</h4><p>quattro</p></div>
</div>
<h2>Tarifs</h2>
<div class="grid">
<div class="card"><h4>1 Jour</h4><p>490 €</p></div>
<div class="card"><h4>2 Jours</h4><p>950 €</p></div>
<div class="card"><h4>Week-end</h4><p>1200 €</p></div>
<div class="card"><h4>1 Semaine</h4><p>3200 €</p></div>
</div>
<h2>Réserver votre RS3</h2>
<form id="reservationForm">
<input type="date" id="startDate" required>
<input type="date" id="endDate" required>
<select id="location">
<option>Paris</option>
<option>Monaco</option>
<option>Genève</option>
</select>
<button type="submit">Réserver</button>
</form>
<div class="summary" id="summary"></div>
</div>

<script>
// Canvas setup
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
const centerX=canvas.width/2;
const centerY=canvas.height/2;
const scale=15;

// Letter points R S 3
const letters={
  R:[[0,0],[0,1],[0,2],[0,3],[0,4],[1,0],[2,0],[2,1],[1,2],[2,2],[1,3],[2,4]],
  S:[[0,0],[1,0],[2,0],[0,1],[0,2],[1,2],[2,2],[2,3],[0,4],[1,4],[2,4]],
  "3":[[0,0],[1,0],[2,0],[2,1],[1,2],[2,2],[2,3],[0,4],[1,4],[2,4]]
};
const sequence=["R","S","3"];
let drawnPoints=[];

// Draw loop
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="red";
  ctx.shadowColor="red";
  ctx.shadowBlur=12;
  drawnPoints.forEach(pt=>{
    ctx.beginPath();
    ctx.arc(pt.x,pt.y,6,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(draw);
}
draw();

// Animate letter one by one centered
async function animateLetter(letterArray){
  return new Promise(resolve=>{
    let i=0;
    const interval=setInterval(()=>{
      if(i>=letterArray.length){
        clearInterval(interval);
        resolve();
        return;
      }
      const pt=letterArray[i];
      drawnPoints.push({
        x:centerX + (pt[0]-1)*scale*12,
        y:centerY + (pt[1]-2)*scale*12
      });
      i++;
    },120);
  });
}

// Sequence animation
async function animateSequence(){
  for(let l of sequence){
    drawnPoints=[]; // clear previous letter for mobile clarity
    await animateLetter(letters[l]);
    await new Promise(r=>setTimeout(r,500));
  }
  setTimeout(()=>{
    canvas.style.display="none";
    document.getElementById("mainPage").style.display="block";
    document.body.style.overflow="auto";
  },300);
}
animateSequence();

// Reservation form
const form=document.getElementById("reservationForm");
form.addEventListener("submit",function(e){
  e.preventDefault();
  const start=new Date(document.getElementById("startDate").value);
  const end=new Date(document.getElementById("endDate").value);
  const diff=(end-start)/(1000*60*60*24)+1;
  if(diff<=0||diff>7){
    document.getElementById("summary").innerText="Veuillez choisir 1 à 7 jours maximum.";
    return;
  }
  const total=diff*490;
  document.getElementById("summary").innerText=`Durée : ${diff} jour(s)\nTotal : ${total} €`;
});
</script>
</body>
</html>
