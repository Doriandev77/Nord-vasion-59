<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aurum Drive ‚Äî Luxury Rental</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>

:root{
--gold:#e7c873;
--gold-soft:#f4e2a6;
--bg:#0a0a0d;
--card:#141419;
--glass:rgba(255,255,255,0.04);
--text:#ffffff;
--muted:#9c9ca6;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;}

body{
background:radial-gradient(circle at top,#111 0%,#050507 60%);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:var(--text);
overflow:hidden;
}

/* CONTAINER */

.wrapper{
width:520px;
max-width:94%;
background:linear-gradient(145deg,#141419,#101015);
border-radius:32px;
padding:40px;
display:flex;
flex-direction:column;
gap:25px;
border:1px solid rgba(231,200,115,.15);
box-shadow:
0 0 60px rgba(231,200,115,.08),
inset 0 0 30px rgba(231,200,115,.05);
animation:fadeIn 1s ease;
}

/* HEADER */

.header{
display:flex;
align-items:center;
gap:15px;
}

.logo{
width:56px;height:56px;border-radius:50%;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
display:flex;align-items:center;justify-content:center;
font-weight:700;color:#111;font-size:18px;
box-shadow:0 0 25px rgba(231,200,115,.6);
animation:glow 3s infinite alternate;
}

.header strong{font-size:17px;letter-spacing:.6px;}
.header span{font-size:12px;color:var(--muted);}

/* CHAT */

.chat{display:flex;flex-direction:column;gap:18px;min-height:120px;}

.message{
font-size:14px;
line-height:1.7;
animation:slideUp .4s ease;
}

.user{
align-self:flex-end;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
padding:10px 16px;
border-radius:20px;
font-weight:600;
}

.bot{align-self:flex-start;color:var(--text);}

/* OPTIONS */

.choices{display:flex;flex-wrap:wrap;gap:12px;}

.choice{
padding:11px 18px;
border-radius:22px;
background:var(--glass);
border:1px solid rgba(231,200,115,.15);
cursor:pointer;
transition:.4s;
}

.choice:hover{
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
transform:translateY(-3px);
box-shadow:0 8px 25px rgba(231,200,115,.25);
}

/* CALENDAR */

.calendar-box{
background:var(--glass);
padding:18px;
border-radius:20px;
border:1px solid rgba(231,200,115,.15);
display:flex;
flex-direction:column;
gap:12px;
animation:slideUp .4s ease;
}

input[type="date"]{
background:#0f0f14;
border:1px solid rgba(231,200,115,.2);
padding:10px;
border-radius:12px;
color:var(--text);
}

.summary{
background:rgba(255,255,255,0.03);
padding:18px;
border-radius:20px;
border:1px solid rgba(231,200,115,.2);
line-height:1.7;
animation:fadeIn 1s ease;
}

.cta{
margin-top:10px;
padding:15px;
border-radius:26px;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
border:none;
font-weight:700;
cursor:pointer;
transition:.4s;
}

.cta:hover{
transform:translateY(-4px);
box-shadow:0 12px 35px rgba(231,200,115,.35);
}

/* ANIMATIONS */

@keyframes glow{
from{box-shadow:0 0 20px rgba(231,200,115,.3);}
to{box-shadow:0 0 45px rgba(231,200,115,.7);}
}

@keyframes slideUp{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

@keyframes fadeIn{
from{opacity:0;}
to{opacity:1;}
}

</style>
</head>

<body>

<div class="wrapper">

<div class="header">
<div class="logo">AD</div>
<div>
<strong>Aurum Drive</strong><br>
<span>Luxury Automotive Experience</span>
</div>
</div>

<div class="chat" id="chat"></div>
<div class="choices" id="choices"></div>

</div>

<script>

const { jsPDF } = window.jspdf;

const chat=document.getElementById("chat");
const choices=document.getElementById("choices");

let gamme="", modele="";
let prixJour=0, caution=0;
let startDate, endDate, totalDays, total;

const tarifs={
"Citadine":{prix:90,caution:1500},
"SUV Luxe":{prix:290,caution:7000},
"Sportive":{prix:750,caution:20000},
"Hypercar":{prix:3000,caution:60000}
};

function addBot(t){let d=document.createElement("div");d.className="message bot";d.innerHTML=t;chat.appendChild(d);}
function addUser(t){let d=document.createElement("div");d.className="message user";d.innerHTML=t;chat.appendChild(d);}

addBot("Bienvenue ‚ú®<br>S√©lectionnez votre cat√©gorie.");
showCategories();

function showCategories(){
choices.innerHTML=`
<div class="choice" onclick="selectCat('Citadine')">üöó Citadine</div>
<div class="choice" onclick="selectCat('SUV Luxe')">üöô SUV Luxe</div>
<div class="choice" onclick="selectCat('Sportive')">üèé Sportive</div>
<div class="choice" onclick="selectCat('Hypercar')">üî• Hypercar</div>`;
}

function selectCat(c){
gamme=c;
prixJour=tarifs[c].prix;
caution=tarifs[c].caution;
choices.innerHTML="";
addUser(c);
addBot("Choisissez votre mod√®le.");
showModels();
}

function showModels(){
const models={
"Citadine":["Mercedes Classe A","Audi A3"],
"SUV Luxe":["Range Rover Sport","BMW X7"],
"Sportive":["Porsche 911","AMG GT"],
"Hypercar":["Lamborghini Aventador","Ferrari SF90"]
};
choices.innerHTML=models[gamme].map(m=>`<div class="choice" onclick="selectModel('${m}')">${m}</div>`).join("");
}

function selectModel(m){
modele=m;
choices.innerHTML="";
addUser(m);
showCalendar();
}

function showCalendar(){
addBot("S√©lectionnez vos dates de r√©servation.");
choices.innerHTML=`
<div class="calendar-box">
<label>Date de d√©but</label>
<input type="date" id="start">
<label>Date de fin</label>
<input type="date" id="end">
<button class="cta" onclick="calculate()">Calculer le tarif</button>
</div>`;
}

function calculate(){
startDate=new Date(document.getElementById("start").value);
endDate=new Date(document.getElementById("end").value);

if(endDate<=startDate){alert("Date invalide");return;}

totalDays=Math.ceil((endDate-startDate)/(1000*60*60*24));
total=totalDays*prixJour;

showSummary();
}

function showSummary(){
choices.innerHTML="";
addBot(`
<div class="summary">
<strong>R√âCAPITULATIF</strong><br><br>
V√©hicule : ${modele}<br>
Cat√©gorie : ${gamme}<br>
Du : ${startDate.toLocaleDateString()}<br>
Au : ${endDate.toLocaleDateString()}<br>
Dur√©e : ${totalDays} jours<br>
Prix/jour : ${prixJour} ‚Ç¨<br>
Total : ${total} ‚Ç¨<br>
Caution : ${caution} ‚Ç¨<br>
</div>
`);
choices.innerHTML=`
<button class="cta" onclick="invoice()">T√©l√©charger facture provisoire</button>
<button class="cta" onclick="confirm()">Confirmer r√©servation</button>`;
}

function invoice(){
const doc=new jsPDF();
doc.text("AURUM DRIVE - FACTURE PROVISOIRE",20,20);
doc.text("V√©hicule : "+modele,20,40);
doc.text("Du : "+startDate.toLocaleDateString(),20,50);
doc.text("Au : "+endDate.toLocaleDateString(),20,60);
doc.text("Total : "+total+" EUR",20,70);
doc.save("facture_provisoire.pdf");
}

function confirm(){
addBot("‚ú® R√©servation confirm√©e.<br>Un conseiller vous contacte imm√©diatement.");
choices.innerHTML="";
}

</script>

</body>
</html>
