<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aurum Drive ‚Äî Location Prestige</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>

:root{
--gold:#e6c77a;
--gold-soft:#f2d98c;
--bg:#0f0f12;
--card:#17171c;
--text:#f5f5f7;
--muted:#9a9aa3;
}

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

body{
background:var(--bg);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:var(--text);
}

/* WRAPPER */

.wrapper{
width:480px;
max-width:92%;
background:var(--card);
border-radius:28px;
box-shadow:0 40px 120px rgba(0,0,0,.6);
padding:35px;
display:flex;
flex-direction:column;
gap:22px;
border:1px solid rgba(230,199,122,.15);
}

/* HEADER */

.header{
display:flex;
align-items:center;
gap:15px;
}

.logo{
width:50px;
height:50px;
border-radius:50%;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
color:#111;
font-size:18px;
}

.header .info strong{
font-size:16px;
letter-spacing:.5px;
}

.header .info span{
font-size:12px;
color:var(--muted);
}

/* CHAT */

.chat{
display:flex;
flex-direction:column;
gap:16px;
min-height:180px;
}

.message{
font-size:14px;
line-height:1.6;
animation:fade .3s ease;
}

.user{
align-self:flex-end;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
padding:10px 14px;
border-radius:18px;
max-width:70%;
font-weight:500;
}

.bot{
align-self:flex-start;
max-width:85%;
color:var(--text);
}

.thinking{
font-size:13px;
color:var(--muted);
font-style:italic;
opacity:.8;
}

/* CHOICES */

.choices{
display:flex;
flex-wrap:wrap;
gap:10px;
}

.choice{
padding:10px 16px;
border-radius:20px;
background:#222228;
border:1px solid rgba(230,199,122,.15);
font-size:13px;
cursor:pointer;
transition:.3s;
}

.choice:hover{
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
border:none;
}

/* CTA */

.cta{
margin-top:12px;
padding:14px;
border-radius:22px;
background:linear-gradient(145deg,var(--gold),var(--gold-soft));
color:#111;
border:none;
cursor:pointer;
font-size:14px;
width:100%;
font-weight:600;
transition:.3s;
}

.cta:hover{
opacity:.9;
transform:translateY(-2px);
}

/* Animation */

@keyframes fade{
from{opacity:0; transform:translateY(6px);}
to{opacity:1; transform:translateY(0);}
}

</style>
</head>

<body>

<div class="wrapper">

<div class="header">
<div class="logo">AD</div>
<div class="info">
<strong>Aurum Drive</strong>
<span>Location Automobile Prestige</span>
</div>
</div>

<div class="chat" id="chat"></div>
<div class="choices" id="choices"></div>

</div>

<script>

let userName="Client";
if(window.Telegram && Telegram.WebApp){
Telegram.WebApp.expand();
const user=Telegram.WebApp.initDataUnsafe.user;
if(user) userName=user.first_name || "Client";
}

const chat=document.getElementById("chat");
const choices=document.getElementById("choices");

let gamme="";
let modele="";
let duree="";

/* Helpers */

function addBot(text){
const div=document.createElement("div");
div.className="message bot";
div.innerHTML=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function addUser(text){
const div=document.createElement("div");
div.className="message user";
div.innerHTML=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function thinking(callback){

const steps=[
"Analyse de votre demande...",
"V√©rification des disponibilit√©s...",
"Optimisation de l'exp√©rience premium...",
"Pr√©paration de votre v√©hicule..."
];

let i=0;
const t=document.createElement("div");
t.className="thinking";
chat.appendChild(t);

function next(){
if(i<steps.length){
t.innerText=steps[i];
i++;
setTimeout(next,700);
}else{
t.remove();
callback();
}
}
next();
}

/* FLOW */

addBot("Bienvenue "+userName+" ‚ú®<br>Choisissez votre cat√©gorie de v√©hicule.");

showCategories();

function showCategories(){
choices.innerHTML=`
<div class="choice" onclick="selectCategory('Citadine')">üöó Citadine</div>
<div class="choice" onclick="selectCategory('SUV Luxe')">üöô SUV Luxe</div>
<div class="choice" onclick="selectCategory('Sportive')">üèé Sportive</div>
<div class="choice" onclick="selectCategory('Hypercar')">üî• Hypercar</div>
`;
}

function selectCategory(cat){
gamme=cat;
choices.innerHTML="";
addUser(cat);

setTimeout(()=>{
thinking(()=>{
addBot("Excellente s√©lection.<br>Choisissez votre mod√®le.");
showModels();
});
},600);
}

function showModels(){

const models={
"Citadine":["Mercedes Classe A","Audi A3"],
"SUV Luxe":["Range Rover Sport","BMW X7"],
"Sportive":["Porsche 911","Mercedes AMG GT"],
"Hypercar":["Lamborghini Aventador","Ferrari SF90"]
};

choices.innerHTML=models[gamme]
.map(m=>`<div class="choice" onclick="selectModel('${m}')">${m}</div>`)
.join("");

}

function selectModel(m){
modele=m;
choices.innerHTML="";
addUser(m);

setTimeout(()=>{
thinking(()=>{
addBot("Dur√©e de location souhait√©e ?");
showDuration();
});
},600);
}

function showDuration(){
choices.innerHTML=`
<div class="choice" onclick="selectDuration('1 jour')">1 jour</div>
<div class="choice" onclick="selectDuration('Weekend')">Weekend</div>
<div class="choice" onclick="selectDuration('1 semaine')">1 semaine</div>
`;
}

function selectDuration(d){
duree=d;
choices.innerHTML="";
addUser(d);

setTimeout(()=>{
thinking(()=>{
addBot(`
‚ú® <strong>R√©capitulatif</strong><br>
V√©hicule : ${modele}<br>
Dur√©e : ${duree}<br><br>
Votre v√©hicule est pr√™t.
`);
choices.innerHTML=`<button class="cta" onclick="finalize()">Finaliser la r√©servation</button>`;
});
},600);
}

function finalize(){
window.location.href="reservation.html?modele="+encodeURIComponent(modele)+"&duree="+encodeURIComponent(duree);
}

</script>

</body>
</html>
